using UnityEngine;
using UnityEngine.SceneManagement;

public class GameOverUI : MonoBehaviour
{
    TypingEffect typingeffect;
    PanelBlinkEffect panelBlinkEffect;
    #region string backgroundstring;
    const string backgroundstring = "010101001011101101010101010101010110101010100" +
        "1010101101010101010101010100010101010101001011101001010010101011011" +
        "11010110101101101010101010101101011011010101010101010101010101010101" +
        "10101010101011010101010110101010101101010111101001010010110101110101" +
        "010101011010101001011101101010101010101010110101010100101010110101010" +
        "101010101010001010101010100101110100101001010101101111010110101101101" +
        "010101010101101011011010101010101010101010101010101101010101010110101" +
        "010101101010101011010101111010010100101101011101010101010110101010010" +
        "111011010101010101010101101010101001010101101010101010101010100010101" +
        "010101001011101001010010101011011110101101011011010101010101011010110" +
        "110101010101010101010101010101011010101010101101010101011010101010110" +
        "101011110100101001011010111010101010101101010100101110110101010101010" +
        "101011010101010010101011010101010101010101000101010101010010111010010" +
        "1001010101101111010110101101101010101010101101011011010101010101010101" +
        "0101010101011010101010101101010101011010101010110101011110100101001011" +
        "0101110101010101011010101001011101101010101010101010110101010100101010" +
        "11010101010101010101000101010101010010111010010100101010110111101011010" +
        "11011010101010101011";
    #endregion

    private void Awake()
    {
        typingeffect = GetComponent<TypingEffect>();
        panelBlinkEffect = GetComponent<PanelBlinkEffect>();
    }

    private void OnEnable()
    {
        enabled = true;
        SoundEvent.PlaySound(SoundType.GameEnd);
        typingeffect.Typing(backgroundstring);
        panelBlinkEffect.Blink();
    }

    public void OnRestartButtonClicked()
    {
        SoundEvent.PlaySound(SoundType.GameEnd);
        BGMEvent.StopBGM(BGMList.MainTheme);
        SceneManager.LoadScene("MainMenu");
    }
}

